<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{{ config.site_title }}{% endblock %}</title>
    <meta name="description" content="{{ config.site_description }}">
    <link rel="icon" href="{{ base_url }}/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="{{ base_url }}/css/style.css">
    <link rel="alternate" type="application/rss+xml" title="{{ config.site_title }} RSS Feed" href="{{ base_url }}/feed.xml">
    {% block head %}{% endblock %}
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <header class="site-header">
        <div class="container">
            <a href="{{ base_url }}/" class="site-title">{{ config.site_title }}</a>
            <nav class="site-nav" aria-label="Main navigation">
                <a href="{{ base_url }}/about.html">About</a>
                <a href="{{ base_url }}/highlights.html">Highlights</a>
                <a href="{{ base_url }}/posts/">Posts</a>
                <a href="{{ base_url }}/browse.html">Browse</a>
                <a href="{{ base_url }}/tree.html">Tree</a>
                <a href="{{ base_url }}/stats.html">Stats</a>
            </nav>
        </div>
    </header>

    <main class="site-main" id="main-content">
        {% block content %}{% endblock %}
    </main>

    <footer class="site-footer">
        <img class="footer-illustration footer-illustration-left"
             src="{{ image_url }}/footer/garden_bugs_1_transparent.png"
             alt="" aria-hidden="true">
        <div class="container">
            <p>{{ config.site_title }} by {{ config.author }}</p>
            <p><a href="{{ base_url }}/feed.xml">Subscribe via RSS</a></p>
        </div>
        <img class="footer-illustration footer-illustration-right"
             src="{{ image_url }}/footer/garden_bugs_2_transparent.png"
             alt="" aria-hidden="true">
    </footer>
    <script>
    (function() {
        var images = [
            '{{ image_url }}/footer/garden_bugs_1_transparent.png',
            '{{ image_url }}/footer/garden_bugs_2_transparent.png',
            '{{ image_url }}/footer/garden_bugs_3_transparent.png',
            '{{ image_url }}/footer/garden_bugs_4_transparent.png'
        ];
        var leftImg = document.querySelector('.footer-illustration-left');
        var rightImg = document.querySelector('.footer-illustration-right');
        if (leftImg && rightImg) {
            var leftIdx = Math.floor(Math.random() * images.length);
            var rightIdx = Math.floor(Math.random() * images.length);
            leftImg.src = images[leftIdx];
            rightImg.src = images[rightIdx];
            // Randomly flip each image
            if (Math.random() > 0.5) leftImg.classList.add('flipped');
            if (Math.random() > 0.5) rightImg.classList.add('flipped');
        }
    })();
    </script>
</body>
</html>
